{"version":3,"sources":["components/Layout/Header.module.scss","components/UI/GoBackToBooksListButton.module.scss","components/Layout/Layout.module.scss","components/UI/Notification.module.scss","components/booksList/Book.module.scss","components/booksList/BooksList.module.scss","components/Layout/MainNavigation.module.scss","store/actions/actionsType.js","store/reducers/booksOptionsReducer.js","store/reducers/index.js","store/reducers/errorReducer.js","components/booksList/Book.jsx","components/UI/Spinner.jsx","config/config.js","helper/getData/getBooksList.js","store/actions/notificationActions.js","store/actions/booksActions.js","store/selectors/selectors.js","components/booksList/BooksList.jsx","images/logo_pl.png","components/Layout/Header.jsx","components/UI/GoBackToBooksListButton.jsx","components/Layout/MainNavigation.jsx","components/UI/Notification.jsx","components/Layout/Layout.jsx","helper/getData/getBookDetails.js","components/booksList/BookDetails.jsx","App.jsx","index.jsx"],"names":["module","exports","ADD_BOOKS_TO_BOOK_LIST","SET_LOADING_BOOKS_LIST_DATA_STATUS","SET_LOADING_BOOK_DETAILS_DATA_STATUS","INCREMENT_START_INDEX","SET_NOTIFICATION","defaultState","startIndex","booksPerFetch","loadingBooksListData","loadingBookDetailsData","combineReducers","booksOptions","state","action","type","payload","books","bookList","bookListAfterFilteringSameIds","Map","map","item","values","notification","Book","title","subtitle","authors","publishedDate","description","smallThumbnail","id","authorsLayout","reduce","prev","next","className","classes","book","alt","src","to","Spinner","loading","override","css","size","bookListUrl","getBooksList","genre","bookstListLink","axios","get","then","res","data","items","volumeInfo","imageLinks","setNotification","getAndAddBooksToBookList","dispatch","setLoadingBooksListDataStatus","addBooksToBookList","isActive","status","incrementStartIndex","catch","error","setLoadingBookDetailsDataStatus","selectShowLoadingBookDetailsData","selectShowBooksList","selectShowNotification","selectShowStartIndex","BooksList","useDispatch","loadingBookListDataSatus","useSelector","booksList","useEffect","Header","FarmaPromLogo","GoBackToBooksListButton","activeClassName","link","active","arrow","MainNavigation","nav","Notification","message","specialClasses","success","setTimeout","cssClasses","Layout","children","pathname","useLocation","listInnerRef","useRef","useState","fetchingBooks","setFetchingBooks","isMainpage","mainElementClass","app","onScroll","current","scrollTop","scrollHeight","clientHeight","ref","getBookDetails","bookId","thumbnail","acsTokenLink","accessInfo","epub","publicDomain","BookDetails","params","useParams","bookData","setBookData","href","dangerouslySetInnerHTML","__html","App","path","exact","store","createStore","reducerRoot","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b1d25441.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app-header\":\"Header_app-header__3VeaE\",\"app-header-block\":\"Header_app-header-block__W_cZ8\",\"app-header-block-logo\":\"Header_app-header-block-logo__3Madj\",\"app-header-block-logo-name\":\"Header_app-header-block-logo-name__2zhDz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"GoBackToBooksListButton_link__2vsCq\",\"active\":\"GoBackToBooksListButton_active__2y7-Z\",\"arrow\":\"GoBackToBooksListButton_arrow__CskHR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"Layout_app__3iHya\",\"book-list\":\"Layout_book-list__3Bqd2\",\"book-details\":\"Layout_book-details__2RAy2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"Notification_notification__2QtJv\",\"error\":\"Notification_error__zWtTG\",\"success\":\"Notification_success__2PruW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"book\":\"Book_book__1Pflz\",\"book-download\":\"Book_book-download__2X1no\",\"book-top\":\"Book_book-top__O0kbT\",\"book-top-title\":\"Book_book-top-title__29JQ0\",\"book-top-title-details\":\"Book_book-top-title-details__SYAk-\",\"book-top-subtitle\":\"Book_book-top-subtitle__32bsm\",\"book-image\":\"Book_book-image__spobu\",\"book-authors\":\"Book_book-authors__3BmpD\",\"book-description\":\"Book_book-description__3mBbE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"books-list\":\"BooksList_books-list__1M3OU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"MainNavigation_nav__Z1aQ-\"};","export const ADD_BOOKS_TO_BOOK_LIST = 'ADD_BOOKS_TO_BOOK_LIST';\nexport const SET_LOADING_BOOKS_LIST_DATA_STATUS =\n  'SET_LOADING_BOOKS_LIST_DATA_STATUS';\nexport const SET_LOADING_BOOK_DETAILS_DATA_STATUS =\n  'SET_LOADING_BOOK_DETAILS_DATA_STATUS';\nexport const INCREMENT_START_INDEX = 'INCREMENT_START_INDEX';\nexport const SET_NOTIFICATION = 'SET_NOTIFICATION';\n","import {\n  ADD_BOOKS_TO_BOOK_LIST,\n  INCREMENT_START_INDEX,\n  SET_LOADING_BOOKS_LIST_DATA_STATUS,\n  SET_LOADING_BOOK_DETAILS_DATA_STATUS,\n} from '../actions/actionsType';\n\nconst defaultState = {\n  startIndex: 0,\n  booksPerFetch: 15,\n  loadingBooksListData: true,\n  loadingBookDetailsData: true,\n};\n\nexport function booksOptionsReducer(state = defaultState, action) {\n  switch (action.type) {\n    case SET_LOADING_BOOKS_LIST_DATA_STATUS: {\n      return {\n        ...state,\n        loadingBooksListData: action.payload,\n      };\n    }\n    case SET_LOADING_BOOK_DETAILS_DATA_STATUS: {\n      return {\n        ...state,\n        loadingBookDetailsData: action.payload,\n      };\n    }\n    case ADD_BOOKS_TO_BOOK_LIST: {\n      const books = state.bookList\n        ? [...state.bookList, ...action.payload]\n        : action.payload;\n\n      const bookListAfterFilteringSameIds = [\n        ...new Map(books.map((item) => [item['id'], item])).values(),\n      ];\n\n      return {\n        ...state,\n        bookList: bookListAfterFilteringSameIds,\n      };\n    }\n    case INCREMENT_START_INDEX: {\n      return {\n        ...state,\n        startIndex: (state.startIndex += state.booksPerFetch),\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n","import { combineReducers } from 'redux';\nimport { booksOptionsReducer } from './booksOptionsReducer';\nimport { notificationReducer } from './errorReducer';\n\nexport default combineReducers({\n  booksOptions: booksOptionsReducer,\n  notification: notificationReducer,\n});\n","import { SET_NOTIFICATION } from '../actions/actionsType';\n\nexport function notificationReducer(state = {}, action) {\n  switch (action.type) {\n    case SET_NOTIFICATION:\n      state = action.payload;\n      return state;\n    default:\n      return state;\n  }\n}\n","import { NavLink } from 'react-router-dom';\nimport classes from './Book.module.scss';\n\nconst Book = ({\n  title,\n  subtitle,\n  authors,\n  publishedDate,\n  description,\n  smallThumbnail,\n  id,\n}) => {\n  const authorsLayout = authors?.reduce((prev, next) => `${prev}, ${next}`);\n\n  return (\n    <li className={classes.book}>\n      <img className={classes['book-image']} alt=\"Book\" src={smallThumbnail} />\n      <div className={classes['book-top']}>\n        <NavLink to={`/book/${id}`} className={classes['book-top-title']}>\n          {title}\n        </NavLink>\n        {subtitle ? (\n          <p className={classes['book-top-subtitle']}>{subtitle}</p>\n        ) : (\n          <p className={classes['book-top-subtitle']}>\n            See detailed description below.\n          </p>\n        )}\n      </div>\n      <h5 className={classes['book-authors']}>\n        {`${authorsLayout} (${publishedDate})`}\n      </h5>\n      <p className={classes['book-description']}>{description}</p>\n    </li>\n  );\n};\n\nexport default Book;\n","import { css } from '@emotion/react';\nimport MoonLoader from 'react-spinners/MoonLoader';\n\nfunction Spinner({ loading }) {\n  const override = css`\n    display: block;\n    margin: 2rem auto;\n  `;\n  return <MoonLoader loading={loading} css={override} size={100} />;\n}\n\nexport default Spinner;\n","export const delayForNextFetechBookList = 5000;\nexport const delayForNotificationDismiss = 1000;\n\nexport const booksPerFetch = 15;\n\nexport const bookListUrl =\n  'https://www.googleapis.com/books/v1/volumes?q=subject:';\n\nexport const bookDetailsUrl = 'https://www.googleapis.com/books/v1/volumes/';\n","import axios from 'axios';\nimport { bookListUrl, booksPerFetch } from '../../config/config';\n\nconst getBooksList = (genre = 'fiction', startIndex = 0) => {\n  const bookstListLink = `${bookListUrl}${genre}&startIndex=${startIndex}&maxResults=${booksPerFetch}`;\n\n  return axios.get(bookstListLink).then((res) => {\n    const books = res.data?.items.map((book) => {\n      return {\n        title: book.volumeInfo.title,\n        subtitle: book.volumeInfo.subtitle,\n        authors: book.volumeInfo.authors,\n        publishedDate: book.volumeInfo.publishedDate,\n        description: book.volumeInfo.description,\n        smallThumbnail: book.volumeInfo.imageLinks.smallThumbnail,\n        id: book.id,\n      };\n    });\n\n    return books;\n  });\n};\n\nexport default getBooksList;\n","import { SET_NOTIFICATION } from './actionsType';\n\nexport const setNotification = (payload) => ({\n  type: SET_NOTIFICATION,\n  payload: payload,\n});\n","import getBooksList from '../../helper/getData/getBooksList';\nimport {\n  ADD_BOOKS_TO_BOOK_LIST,\n  INCREMENT_START_INDEX,\n  SET_LOADING_BOOKS_LIST_DATA_STATUS,\n  SET_LOADING_BOOK_DETAILS_DATA_STATUS,\n} from './actionsType';\nimport { setNotification } from './notificationActions';\n\nexport const getAndAddBooksToBookList =\n  (genre, startIndex, booksPerFetch) => (dispatch) => {\n    dispatch(setLoadingBooksListDataStatus(true));\n    getBooksList(genre, startIndex, booksPerFetch)\n      .then((books) => {\n        dispatch(addBooksToBookList(books));\n        dispatch(\n          setNotification({\n            isActive: true,\n            status: 'success',\n            title: 'Book list fetched.',\n          })\n        );\n        dispatch(setLoadingBooksListDataStatus(false));\n        dispatch(incrementStartIndex());\n      })\n      .catch((error) => {\n        dispatch(\n          setNotification({\n            isActive: true,\n            status: 'error',\n            title: 'Problem with fetching book list.',\n          })\n        );\n        dispatch(setLoadingBooksListDataStatus(false));\n      });\n  };\n\nexport const addBooksToBookList = (payload) => ({\n  type: ADD_BOOKS_TO_BOOK_LIST,\n  payload: payload,\n});\n\nexport const setLoadingBooksListDataStatus = (payload) => ({\n  type: SET_LOADING_BOOKS_LIST_DATA_STATUS,\n  payload: payload,\n});\n\nexport const setLoadingBookDetailsDataStatus = (payload) => ({\n  type: SET_LOADING_BOOK_DETAILS_DATA_STATUS,\n  payload: payload,\n});\nexport const incrementStartIndex = (payload) => ({\n  type: INCREMENT_START_INDEX,\n  payload: payload,\n});\n","export const selectShowLoadingBookDetailsData = ({ booksOptions }) =>\n  booksOptions?.loadingBookDetailsData;\n\nexport const selectShowBooksList = ({ booksOptions }) => booksOptions.bookList;\n\nexport const selectShowNotification = ({ notification }) => notification;\n\nexport const selectShowStartIndex = ({ booksOptions }) =>\n  booksOptions.startIndex;\n//     export const booksPerFetch = useSelector(\n//     ({ booksOptions }) => booksOptions.booksPerFetch\n//   );\n","import classes from './BooksList.module.scss';\nimport Book from './Book';\nimport { Fragment } from 'react/cjs/react.production.min';\nimport Spinner from '../UI/Spinner';\nimport { useEffect } from 'react';\nimport { getAndAddBooksToBookList } from '../../store/actions/booksActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectShowBooksList,\n  selectShowLoadingBookDetailsData,\n} from '../../store/selectors/selectors';\n\nconst BooksList = () => {\n  const dispatch = useDispatch();\n\n  const loadingBookListDataSatus = useSelector(\n    selectShowLoadingBookDetailsData\n  );\n  const booksList = useSelector(selectShowBooksList);\n\n  useEffect(() => {\n    if (!booksList) {\n      dispatch(getAndAddBooksToBookList());\n    }\n  }, [dispatch, booksList]);\n\n  return (\n    <Fragment>\n      <ul className={classes['books-list']}>\n        {booksList?.map((book) => {\n          return (\n            <Book\n              title={book.title}\n              subtitle={book.subtitle}\n              authors={book.authors}\n              publishedDate={book.publishedDate}\n              description={book.description}\n              smallThumbnail={book.smallThumbnail}\n              id={book.id}\n              key={book.id}\n            />\n          );\n        })}\n        <Spinner loading={loadingBookListDataSatus} />\n      </ul>\n    </Fragment>\n  );\n};\nexport default BooksList;\n","export default __webpack_public_path__ + \"static/media/logo_pl.5558c896.png\";","import classes from './Header.module.scss';\nimport FarmaPromLogo from '../../images/logo_pl.png';\n\nconst Header = () => (\n  <header className={classes['app-header']}>\n    <h2>This is recruitment task for Farma Prom company.</h2>\n    <div className={classes['app-header-block']}>\n      <img\n        src={FarmaPromLogo}\n        alt=\"Leocode logo\"\n        className={classes['app-header-block-logo']}\n      />\n      <div className={classes['app-header-block-logo-name']}>Book App</div>\n    </div>\n  </header>\n);\nexport default Header;\n","import { NavLink } from 'react-router-dom';\nimport { HiArrowNarrowLeft } from 'react-icons/hi';\nimport classes from './GoBackToBooksListButton.module.scss';\n\nconst GoBackToBooksListButton = () => (\n  <>\n    <NavLink\n      to=\"/\"\n      activeClassName={classes.link.active}\n      className={classes.link}\n    >\n      <HiArrowNarrowLeft className={classes.arrow} />\n      <span>Books List</span>\n    </NavLink>\n  </>\n);\n\nexport default GoBackToBooksListButton;\n","import GoBackToBooksListButton from '../UI/GoBackToBooksListButton';\nimport classes from './MainNavigation.module.scss';\n\nconst MainNavigation = () => (\n  <nav className={classes.nav}>\n    <ul>\n      <li>\n        <GoBackToBooksListButton />\n      </li>\n    </ul>\n  </nav>\n);\n\nexport default MainNavigation;\n","import { useDispatch } from 'react-redux';\nimport { delayForNotificationDismiss } from '../../config/config';\nimport { setNotification } from '../../store/actions/notificationActions';\nimport classes from './Notification.module.scss';\n\nconst Notification = ({ status, title, message }) => {\n  const dispatch = useDispatch();\n  let specialClasses = '';\n\n  if (status === 'error') {\n    specialClasses = classes.error;\n  }\n  if (status === 'success') {\n    specialClasses = classes.success;\n    setTimeout(() => {\n      dispatch(\n        setNotification({\n          isActive: false,\n        })\n      );\n    }, delayForNotificationDismiss);\n  }\n\n  const cssClasses = `${classes.notification} ${specialClasses}`;\n\n  return (\n    <section className={cssClasses}>\n      <h2>{title}</h2>\n      <p>{message}</p>\n    </section>\n  );\n};\n\nexport default Notification;\n","import { useLocation } from 'react-router-dom';\nimport { useRef, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Header from './Header';\nimport {\n  getAndAddBooksToBookList,\n  incrementStartIndex,\n  setLoadingBooksListDataStatus,\n} from '../../store/actions/booksActions';\nimport MainNavigation from './MainNavigation';\nimport classes from './Layout.module.scss';\nimport Notification from '../UI/Notification';\nimport { booksPerFetch, delayForNextFetechBookList } from '../../config/config';\nimport {\n  selectShowNotification,\n  selectShowStartIndex,\n} from '../../store/selectors/selectors';\n\nconst Layout = ({ children }) => {\n  const { pathname } = useLocation();\n  const listInnerRef = useRef();\n  const dispatch = useDispatch();\n\n  const [fetchingBooks, setFetchingBooks] = useState(false);\n\n  const { isActive, status, title } = useSelector(selectShowNotification);\n  const startIndex = useSelector(selectShowStartIndex);\n\n  const isMainpage = pathname === '/';\n\n  const onScroll = () => {\n    const { scrollTop, scrollHeight, clientHeight } = listInnerRef.current;\n\n    if (listInnerRef.current) {\n      const pageAtTheBottom =\n        scrollTop + clientHeight >= scrollHeight - clientHeight / 4;\n      if (pageAtTheBottom && isMainpage && !fetchingBooks) {\n        setFetchingBooks(true);\n        dispatch(setLoadingBooksListDataStatus(true));\n        dispatch(getAndAddBooksToBookList('fiction', startIndex));\n        dispatch(incrementStartIndex());\n\n        setTimeout(() => {\n          setFetchingBooks(false);\n        }, delayForNextFetechBookList);\n      }\n    }\n  };\n\n  const mainElementClass = !isMainpage\n    ? classes['book-list']\n    : classes['book-details'];\n\n  return (\n    <>\n      <div className={classes.app} onScroll={onScroll} ref={listInnerRef}>\n        <Header />\n        {isActive && <Notification status={status} title={title} />}\n        {!isMainpage && <MainNavigation />}\n        <main className={mainElementClass}>{children}</main>\n      </div>\n    </>\n  );\n};\nexport default Layout;\n","import axios from 'axios';\nimport { bookDetailsUrl } from '../../config/config';\n\nconst getBookDetails = (bookId) => {\n  return axios\n    .get(bookDetailsUrl + bookId)\n    .then((res) => res.data)\n    .then((res) => {\n      const authorsLayout = res.volumeInfo.authors?.reduce(\n        (prev, next) => `${prev}, ${next}`\n      );\n\n      const book = {\n        title: res.volumeInfo.title,\n        subtitle: res.volumeInfo.subtitle || null,\n        authors: authorsLayout,\n        publishedDate: res.volumeInfo.publishedDate,\n        description: res.volumeInfo.description || null,\n        thumbnail: res.volumeInfo.imageLinks?.thumbnail || null,\n        acsTokenLink: res.accessInfo.epub.acsTokenLink || null,\n        publicDomain: res.accessInfo.publicDomain,\n        id: res.id,\n      };\n\n      return book;\n    });\n};\n\nexport default getBookDetails;\n","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Spinner from '../UI/Spinner';\nimport classes from './Book.module.scss';\n\nimport getBookDetails from './../../helper/getData/getBookDetails';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setLoadingBookDetailsDataStatus } from '../../store/actions/booksActions';\nimport { setNotification } from '../../store/actions/notificationActions';\n\nconst BookDetails = () => {\n  const dispatch = useDispatch();\n  const params = useParams();\n\n  const loadingBookDetailsData = useSelector(\n    ({ booksOptions }) => booksOptions?.loadingBookDetailsData\n  );\n  const error = useSelector(\n    ({ notification }) => notification.status !== 'error'\n  );\n\n  const [bookData, setBookData] = useState({\n    title: '',\n    subtitle: '',\n    authors: '',\n    publishedDate: '',\n    description: '',\n    thumbnail: '',\n    acsTokenLink: '',\n    publicDomain: '',\n    id: '',\n  });\n\n  const { bookId } = params;\n\n  const {\n    title,\n    subtitle,\n    authors,\n    publishedDate,\n    description,\n    thumbnail,\n    acsTokenLink,\n    publicDomain,\n  } = bookData;\n\n  useEffect(() => {\n    dispatch(setLoadingBookDetailsDataStatus(true));\n\n    getBookDetails(bookId)\n      .then((book) => {\n        //TODO a co jesli bedzie sukces ale bez book? sprawdz czy taka sytuacja moze wystapic, ale warto sie zabezpieczyc\n        setBookData(book);\n        dispatch(\n          setNotification({\n            isActive: true,\n            status: 'success',\n            title: 'Book list fetched.',\n          })\n        );\n        dispatch(setLoadingBookDetailsDataStatus(false));\n      })\n      .catch(() => {\n        dispatch(\n          setNotification({\n            isActive: true,\n            status: 'error',\n            title: 'Problem with fetching book list.',\n          })\n        );\n        dispatch(setLoadingBookDetailsDataStatus(false));\n      });\n  }, [dispatch, bookId]);\n\n  return (\n    <>\n      <Spinner loading={loadingBookDetailsData} />\n      {!loadingBookDetailsData && error && (\n        <div className={classes.book}>\n          <img className={classes['book-image']} alt=\"Book\" src={thumbnail} />\n          <div className={classes['book-top']}>\n            <p className={classes['book-top-title-details']}>{title}</p>\n            <p className={classes['book-top-subtitle']}>{subtitle}</p>\n          </div>\n          <h5 className={classes['book-authors']}>\n            {`${authors} (${publishedDate})`}\n          </h5>\n          {typeof acsTokenLink === 'string' && publicDomain && (\n            <a href={acsTokenLink} className={classes['book-download']}>\n              DOWNLOAD BOOK\n            </a>\n          )}\n\n          <div dangerouslySetInnerHTML={{ __html: description }} />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default BookDetails;\n\n// * `volumeInfo.title`\n// * `volumeInfo.subtitle`\n// * `volumeInfo.authors[]`\n// * `volumeInfo.publishedDate`\n// * `volumeInfo.description`\n// * `volumeInfo.imageLinks.thumbnail`\n// * `volumeInfo.accessInfo.epub.acsTokenLink` (wyświetl link do pobrania jeśli `volumeInfo.accessInfo.epub.acsTokenLink`\n//   jest tekstem oraz `volumeInfo.accessInfo.publicDomain` równa się `true`)\n","import React from 'react';\nimport { Route, Switch, Redirect, BrowserRouter } from 'react-router-dom';\nimport BooksList from './components/booksList/BooksList';\nimport Layout from './components/Layout/Layout';\nimport BookDetails from './components/booksList/BookDetails';\n\nconst App = () => (\n  <BrowserRouter>\n    <Layout>\n      <Switch>\n        <Route path=\"/\" exact>\n          <BooksList />\n        </Route>\n        <Route path=\"/book/:bookId\">\n          <BookDetails />\n        </Route>\n      </Switch>\n    </Layout>\n  </BrowserRouter>\n);\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducerRoot from './store/reducers/index';\nimport './index.module.scss';\nimport App from './App';\n\nconst store = createStore(reducerRoot, applyMiddleware(thunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />,\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}